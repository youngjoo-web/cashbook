<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gdu.cashbook.mapper.BookMapper">
	<insert id="insertBook" parameterType="com.gdu.cashbook.vo.Book">
		INSERT INTO book(
			INSERT INTO member(
			book_id,
			member_id,
			member_name,
			book_name,
			book_pic,
			book_memo,
			book_year
		) VALUES (
			#{bookId},
			#{memberId},
			#{memberName},
			#{bookName},
			#{bookPic},
			#{bookMemo},
			#{bookYear}
		)
	</insert>
	<select id="selectBookListByYear" parameterType="com.gdu.cashbook.vo.Book" resultType="com.gdu.cashbook.vo.Book">
		SELECT 
			book_id,
			book_name,
			book_pic,
			book_memo
		FROM book
		WHERE member_id = #{memberId}
		AND book_year = #{bookYear}
	</select>
	<update id="updateBook" parameterType="com.gdu.cashbook.vo.Book">
		UPDATE book
		SET book_name = #{bookName},
			book_pic = #{bookPic},
			book_memo = #{bookMemo}			
		WHERE book_id = #{bookId}
	</update>
	<delete id="deleteBook" parameterType="com.gdu.cashbook.vo.Book">
		DELETE FROM book
		WHERE book_id = #{bookId}
	</delete>
	<delete id="deleteCashByBook" parameterType="com.gdu.cashbook.vo.Book">
		DELETE FROM book
		WHERE book_id = #{bookId}
	</delete>
</mapper>